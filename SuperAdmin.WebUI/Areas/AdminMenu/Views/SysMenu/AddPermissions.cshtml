@model SuperAdmin.WebUI.Areas.AdminMenu.Models.AddPermissionsViewModel
@{
    Layout = "~/Views/_Layout.cshtml";
}
<div class="container">
    <div class="row">
        <div id="content" class="col-lg-12">
            <!-- PAGE HEADER-->
            <div class="row">
                <div class="col-sm-12">
                    <div class="page-header">
                        <!-- BREADCRUMBS -->
                        <ul class="breadcrumb">
                            <li>
                                <i class="fa fa-home"></i>
                                <a href="index.html">首页</a>
                            </li>
                            <li>
                                <a href="#">系统权限设置</a>
                            </li>
                            <li>增加用户组权限</li>
                        </ul>
                        <!-- /BREADCRUMBS -->
                        <div class="clearfix">
                            <h3 class="content-title pull-left">添加菜单权限</h3>
                        </div>
                        <div class="description">为管理员组添加菜单权限</div>
                    </div>
                </div>
            </div>
            <!-- /PAGE HEADER -->
            <!-- ACCORDIONS -->
            <div class="row">
                <div class="col-md-12">
                    <!-- BOX -->
                    <div class="box border green">
                        <div class="box-title">
                            <h4><i class="fa fa-bars"></i>系统菜单</h4>
                        </div>
                        <div class="box-body">
                            <div class="panel-group" id="accordion">
                                @foreach (var item in Model.FirstMenuLists)
                                {
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <h3 class="panel-title"><a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapse@(item.ID)">@item.MenuName </a></h3>
                                        </div>
                                        <div id="collapse@(item.ID)" class="panel-collapse collapse">
                                            <div class="panel-body">
                                                <div class="col-md-12">
                                                    <table class="table table-striped table-bordered" id="menutab">
                                                        <tbody>
                                                            @{
                                    var list = Model.SecondMenuLists.Where(p => p.FatherID == item.ID).ToList();
                                    foreach (var subitem in list)
                                    {
                                        
                                                                <tr id="tr@(subitem.ID)">
                                                                    <td class="col-md-3">@subitem.MenuName</td>
                                                                    <td>
                                                                        <label class="checkbox-inline" id="lab1@(subitem.ID)">
                                                                            <input type="checkbox" value="" class="uniform" @(subitem.IsHave == "1" ? "checked='checked'" : "")>
                                                                            查看
                                                                        </label>
                                                                        <label class="checkbox-inline" id="lab3@(subitem.ID)">
                                                                            <input type="checkbox" value="" class="uniform" @(subitem.IsHave == "3" ? "checked='checked'" : "")>
                                                                            修改
                                                                        </label>
                                                                        <label class="checkbox-inline" id="lab4@(subitem.ID)">
                                                                            <input type="checkbox" value="" class="uniform" @(subitem.IsHave == "4" ? "checked='checked'" : "")>
                                                                            删除
                                                                        </label>
                                                                        @{
                                        var sublist = Model.ButtonMenuLists.Where(p => p.FatherID == subitem.ID).ToList();
                                        foreach (var btnitem in sublist)
                                        {
                                                                            <label class="checkbox-inline" id="lab@(btnitem.ID)">
                                                                                <input type="checkbox" value="@btnitem.ID" class="uniform" checked="checked">
                                                                                @btnitem.MenuName
                                                                            </label>
                                        }
                                                                        }
                                                                    </td>
                                                                </tr>      
                                    }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                    <!-- /BOX -->
                </div>
            </div>
            <!-- /ACCORDIONS -->
            <div class="footer-tools">
                <span class="go-top">
                    <i class="fa fa-chevron-up"></i>Top
                </span>
            </div>
        </div>
        <!-- /CONTENT-->
    </div>
</div>
@section mycss{
    <!-- SELECT2 -->
    <link rel="stylesheet" type="text/css" href="@Url.Content("/js/select2/select2.min.css")" />
    <!-- UNIFORM -->
    <link rel="stylesheet" type="text/css" href="@Url.Content("/js/uniform/css/uniform.default.min.css")"/>
}

@section scriptfiles{
    <!-- TYPEHEAD -->
    <script type="text/javascript" src="/js/typeahead/typeahead.min.js"></script>
    <!-- AUTOSIZE -->
    <script type="text/javascript" src="/js/autosize/jquery.autosize.min.js"></script>
    <!-- COUNTABLE -->
    <script type="text/javascript" src="/js/countable/jquery.simplyCountable.min.js"></script>
    <!-- SELECT2 -->
    <script type="text/javascript" src="@Url.Content("/js/select2/select2.min.js")"></script>
    <!-- UNIFORM -->
    <script type="text/javascript" src="@Url.Content("/js/uniform/jquery.uniform.min.js")"></script>
}

@section myscript{
    <script>
    App.setPage("forms"); 
    App.init();

    </script>
    }
